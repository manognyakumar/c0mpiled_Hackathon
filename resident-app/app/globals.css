/*
 * ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 * OBSIDIAN NEON — Global Styles
 * All utilities from Tailwind, custom layers on top.
 * ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Google Fonts (loaded via next/font in layout, fallback here) ─── */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&display=swap');

/* ══════════════════════════════════════════════════════
   BASE LAYER — Resets & root tokens
   ══════════════════════════════════════════════════════ */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
  }

  html {
    font-family: 'Inter', system-ui, sans-serif;
    background: #050505;
    color: #F0F0F5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
  }

  /* Arabic font override */
  html[dir="rtl"],
  html[lang="ar"] {
    font-family: 'IBM Plex Sans Arabic', system-ui, sans-serif;
  }

  body {
    background: #050505;
    min-height: 100dvh;
    overflow-x: hidden;
  }

  /* Reduced motion: kill all animations & transitions */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Selection */
  ::selection {
    background: rgba(0, 242, 255, 0.25);
    color: #F0F0F5;
  }

  /* Focus ring */
  :focus-visible {
    outline: 2px solid #00F2FF;
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 100px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.20);
  }
}

/* ══════════════════════════════════════════════════════
   COMPONENT LAYER — Reusable patterns
   ══════════════════════════════════════════════════════ */
@layer components {

  /* ── Bottom Navigation ─────────────────────────── */
  .bottom-nav {
    @apply fixed bottom-0 inset-x-0 z-50
           flex items-center justify-around
           border-t border-glass-border;
    height: 72px;
    padding-bottom: env(safe-area-inset-bottom, 0px);
    background: rgba(5, 5, 5, 0.85);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  .bottom-nav-item {
    @apply relative flex flex-col items-center justify-center gap-1
           text-micro font-medium
           transition-colors;
    color: rgba(240, 240, 245, 0.45);
    min-width: 64px;
    text-decoration: none;
  }
  .bottom-nav-item.active {
    color: #00F2FF;
  }
  .bottom-nav-item-icon {
    @apply text-xl leading-none;
  }
  .bottom-nav-indicator {
    @apply absolute -top-[1px] inset-x-3 h-[2px] rounded-full;
    background: #00F2FF;
    box-shadow: 0 0 10px rgba(0, 242, 255, 0.6);
  }

  /* ── Form Input ────────────────────────────────── */
  .input-obsidian {
    @apply w-full rounded-button text-body font-medium
           border border-glass-border
           focus:outline-none focus:ring-2 focus:ring-neon-cyan/40
           placeholder:text-white/30;
    background: rgba(10, 10, 16, 0.75);
    backdrop-filter: blur(8px);
    color: #F0F0F5;
    padding-block: 0.875rem;
    padding-inline: 1rem;
    transition: border-color 0.2s, box-shadow 0.2s;
  }
  .input-obsidian:hover {
    border-color: rgba(255, 255, 255, 0.18);
  }
  .input-obsidian:focus {
    border-color: #00F2FF;
  }

  /* ── Toggle Switch ─────────────────────────────── */
  .toggle-track {
    @apply relative inline-flex items-center rounded-full cursor-pointer;
    width: 48px;
    height: 26px;
    background: rgba(255, 255, 255, 0.10);
    border: 1px solid rgba(255, 255, 255, 0.10);
    transition: background 0.25s, border-color 0.25s;
  }
  .toggle-track[data-state="on"] {
    background: rgba(0, 242, 255, 0.25);
    border-color: #00F2FF;
  }
  .toggle-thumb {
    @apply absolute rounded-full;
    width: 20px;
    height: 20px;
    background: #F0F0F5;
    inset-inline-start: 2px;
    top: 2px;
    transition: inset-inline-start 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .toggle-track[data-state="on"] .toggle-thumb {
    inset-inline-start: 24px;
    background: #00F2FF;
  }
}

